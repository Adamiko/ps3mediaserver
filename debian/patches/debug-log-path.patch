Description: log files should be in /var/log according to FHS
 Use /var/log/ps3mediaserver/$(USER)/ as the directory for log files if possible.
Author: Papa Issa DIAKHATE <paissad@gmail.com>
--- a/src/main/java/net/pms/logging/DebugLogPathDefiner.java
+++ b/src/main/java/net/pms/logging/DebugLogPathDefiner.java
@@ -19,12 +19,12 @@
 package net.pms.logging;
 
 import ch.qos.logback.core.PropertyDefinerBase;
+import net.pms.util.FileUtil;
+import org.apache.commons.io.FileUtils;
 
 import java.io.File;
 import java.io.IOException;
 
-import net.pms.util.FileUtil;
-
 /**
  * Logback PropertyDefiner to set the path for the <code>debug.log</code> file.
  * <p>
@@ -47,12 +47,24 @@
 	 */
 	@Override
 	public String getPropertyValue() {
-		File currentDirectory = new File("");
+		final String username = System.getProperty("user.name");
+		final File logDir = new File("/var/log/ps3mediaserver/" + username + "/");
 
-		// Check if current directory is writable.
-		if (FileUtil.isDirectoryWritable(currentDirectory)) {
-			return currentDirectory.getAbsolutePath();
-		} else {
+		try {
+			FileUtils.forceMkdir(logDir);
+			if (FileUtil.isDirectoryWritable(logDir)) {
+				return logDir.getAbsolutePath();
+			} else {
+				final File currentDirectory = new File("");
+				// Check if current directory is writable.
+				if (FileUtil.isDirectoryWritable(currentDirectory)) {
+					return currentDirectory.getAbsolutePath();
+				} else {
+					// Return path to temp folder, which should be writable
+					return System.getProperty("java.io.tmpdir");
+				}
+			}
+		} catch (IOException e) {
 			// Return path to temp folder, which should be writable
 			return System.getProperty("java.io.tmpdir");
 		}
